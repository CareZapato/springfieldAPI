!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("fetch-mock/es5/client"),require("xhr-mock")):"function"==typeof define&&define.amd?define("http-mocks",["exports","@angular/core","fetch-mock/es5/client","xhr-mock"],r):r((e=e||self)["http-mocks"]={},e.ng.core,e.fetchMock,e.xhrMock)}(this,(function(e,r,o,n){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var t="default"in n?n.default:n;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var u=function(){return(u=Object.assign||function(e){for(var r,o=1,n=arguments.length;o<n;o++)for(var t in r=arguments[o])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}).apply(this,arguments)};function s(e,r){var o,n,t,u,s={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(t=2&u[0]?n.return:u[0]?n.throw||((t=n.return)&&t.call(n),0):n.next)&&!(t=t.call(n,u[1])).done)return t;switch(n=0,t&&(u=[2&u[0],t.value]),u[0]){case 0:case 1:t=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(t=(t=s.trys).length>0&&t[t.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!t||u[1]>t[0]&&u[1]<t[3])){s.label=u[1];break}if(6===u[0]&&s.label<t[1]){s.label=t[1],t=u;break}if(t&&s.label<t[2]){s.label=t[2],s.ops.push(u);break}t[2]&&s.ops.pop(),s.trys.pop();continue}u=r.call(e,s)}catch(e){u=[6,e],n=0}finally{o=t=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}}function i(e,r){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,t,u=o.call(e),s=[];try{for(;(void 0===r||r-- >0)&&!(n=u.next()).done;)s.push(n.value)}catch(e){t={error:e}}finally{try{n&&!n.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}}return s}var a=function(e){void 0===e&&(e="");var r=new URLSearchParams(e),o={};return r.forEach((function(e,r){o[r]=e})),o},c=function(e,r,o){var n=e.method,t=e.url,u=e.delay,s=r.requestQuery,i=r.requestBody,a=r.requestHeaders,c=o.responseBody,l=o.responseCode,d=o.responseHeaders;console.groupCollapsed(n+" "+t),console.log("Status:",l),console.log("Delay:",u),console.group("Request"),console.log("Headers:",a),console.log("Query:",s),console.log("Body:",i),console.groupEnd(),console.group("Response"),console.log("Headers:",d),console.log("Body:",c),console.groupEnd(),console.groupEnd()},l=function(e,r,o,n){return n&&"function"==typeof n?n(e,{url:r.url,method:r.method,responseCode:r.responseCode,responseHeaders:r.responseHeaders},o):{responseBody:e,responseCode:r.responseCode,responseHeaders:r.responseHeaders}},d=function(e){try{return new URL(""+e)}catch(e){return null}},f=function(e,r){return e.includes(r)?(""+e).split(r).pop():""};var p=function(){var e=new Error("Delay aborted");return e.name="AbortError",e},y=function(e){var r=e.clearTimeout,o=e.setTimeout,n=e.willResolve;return(function(e,t){var u,s,i,a=void 0===t?{}:t,c=a.value,l=a.signal;if(l&&l.aborted)return Promise.reject(p());var d=r||clearTimeout,f=function(){d(u),i(p())},y=new Promise((function(r,t){s=function(){l&&l.removeEventListener("abort",f),n?r(c):t(c)},i=t,u=(o||setTimeout)(s,e)}));return l&&l.addEventListener("abort",f,{once:!0}),y.clear=function(){d(u),u=null,s()},y})},v=y({willResolve:!0});v.reject=y({willResolve:!1}),v.createWithTimers=function(e){var r=e.clearTimeout,o=e.setTimeout,n=y({clearTimeout:r,setTimeout:o,willResolve:!0});return n.reject=y({clearTimeout:r,setTimeout:o,willResolve:!1}),n};var h=function(e,r,o){t.use(e.method,e.url,(function(n,t){return u=void 0,i=void 0,d=function(){var u,i,a,d,f,p;return s(this,(function(s){switch(s.label){case 0:return u=n.url().query||{},i=null!=n.body()?JSON.parse(n.body()):{},a=n.headers(),d=e.responseFn(u,i),f=l(d,e,{requestQuery:u,requestBody:i,requestHeaders:a},o),p=t.status(f.responseCode).body(f.responseBody).headers(f.responseHeaders),[4,v(e.delay)];case 1:return s.sent(),r&&c(e,{requestQuery:u,requestBody:i,requestHeaders:a},f),[2,p]}}))},new((a=void 0)||(a=Promise))((function(e,r){function o(e){try{t(d.next(e))}catch(e){r(e)}}function n(e){try{t(d.throw(e))}catch(e){r(e)}}function t(r){r.done?e(r.value):new a((function(e){e(r.value)})).then(o,n)}t((d=d.apply(u,i||[])).next())}));var u,i,a,d}))},m=function(e,r){var s=void 0===r?{}:r,i=s.fallbackToNetwork,p=void 0===i||i,y=s.loggingEnabled,v=void 0!==y&&y,m=s.useLocationHash,w=void 0!==m&&m,k=s.mockScenario,q=void 0===k?g(window.location,w):k,H=s.defaultResponseCode,S=void 0===H?200:H,x=s.defaultResponseHeaders,E=void 0===x?{}:x,T=s.defaultDelay,R=void 0===T?0:T,j=s.responseProxyFn,B=s.ignoredMocks,C=void 0===B?[]:B;t.setup();var O,P=Array.isArray(C)&&C.length?C.map((function(e){return e.toString()})):[];b(e,q).filter((function(e){return!P.includes(e.url.toString())})).forEach((function(e){var r=u({responseCode:S,responseHeaders:E,delay:R},e);h(r,v,j),function(e,r,n){o.mock(e.url,(function(o,t){var u,s,i=(null===(u=t)||void 0===u?void 0:u.body)||{},p=(null===(s=t)||void 0===s?void 0:s.headers)||{},y=d(o),v=a(null!==y?y.search:f(o.toString(),"?")),h="string"==typeof i?JSON.parse(i):i,m=p,g=e.responseFn(v,h),b=l(g,e,{requestQuery:v,requestBody:h,requestHeaders:m},n),w={headers:b.responseHeaders,status:b.responseCode,body:b.responseBody};return r&&c(e,{requestQuery:v,requestBody:h,requestHeaders:m},b),w}),{delay:e.delay})}(r,v,j)})),function(e){e&&t.use(n.proxy)}(p),function(e){o.config.fallbackToNetwork=e}(p),O=!0,o.config.overwriteRoutes=O},g=function(e,r){var o=r?e.hash.replace(/^(#\/|#|\/)+/g,""):e.search,n=a(o).mockScenario,t=void 0===n?"default":n;if(Array.isArray(t))throw new Error("Error during processing the mock scenario");return t},b=function(e,r){var o=e.default;if("default"===r)return o;var n=e[r];if(!n)throw new Error("No mocks found for mock scenario: '"+r+"'");return function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(i(arguments[r]));return e}(n,o.filter((function(e){return-1===n.findIndex((function(r){return r.method===e.method&&r.url.toString()===e.url.toString()}))})))},w=function(){function e(){}return e.prototype.setHttpMocks=function(e,r){m(e,r)},e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ɵprov=r["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e}();e.HttpMocksService=w,e.injectHttpMocks=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=http-mocks.umd.min.js.map